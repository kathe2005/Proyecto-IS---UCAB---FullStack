<div class="main-container">
    @if (paso === 'registro') 
    {   <div class="registro-cliente">
            <h2> Registro de Estacionamiento </h2>

            @if (errorMensaje) 
            { <div class="alert-message error-alert">
                **Error:**{{errorMensaje}}
            </div> }

            <form (ngSubmit)="onSubmit()">

                <fieldset>

                    <legend> Credenciales de Acceso </legend>

                    <div class="form-group">
                        <label for="usuario"> Usuario </label>
                        <input type="text" id="usuario" name="usuario" [(ngModel)] ="nuevoCliente.usuario" required>
                    </div>

                    <div class="form-group">
                        <label for="email"> Correo Electronico </label>
                        <input type="email" id="email" name="email" [(ngModel)] ="nuevoCliente.email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="contrasena"> Contraseña </label>
                        <input type="password" id="contrasena" name="contrasena" [(ngModel)] ="nuevoCliente.contrasena" required>
                    </div>

                    <div class="form-group">
                        <label for="confirmarContrasena"> Confirmar Contraseña: </label>
                        <input type="password" id="confirmarContrasena" name="confirmarContrasena" [(ngModel)] ="nuevoCliente.confirmarContrasena" required>
                    </div>

                </fieldset>


                <fieldset>

                    <legend> Datos Personales y Clasificación </legend>

                    <div class="form-group">
                        <label for="cedula"> Cedula (V/E-XXXXX) </label>
                        <input type="text" id="cedula" name="cedula" [(ngModel)] ="nuevoCliente.cedula" required>
                    </div>

                    <div class="form-group half-width">
                        <label for="nombre"> Nombres </label>
                        <input type="text" id="nombre" name="nombre" [(ngModel)] ="nuevoCliente.nombre" required>
                    </div>

                    <div class="form-group half-width">
                        <label for="apellido"> Apellidos </label>
                        <input type="text" id="apellido" name="apellido" [(ngModel)] ="nuevoCliente.apellido" required>
                    </div>

                    <div class="form-group">

                        <label for=" tipoPersona"> Tipo de Persona </label>
                        <select id="tipoPersona" name="tipoPersona" [(ngModel)] = "nuevoCliente.tipoPersona" required>
                            <option value="" disabled selected> Seleccione </option>
                            <option value="Ninguna"> Ninguna </option>
                            <option value="UCAB"> UCAB </option>
                            <option value="VISITANTE"> VISITANTE </option>
                        </select>

                    </div>

                </fieldset>

                <fieldset>

                    <legend> Contacto y Ubicación </legend>

                    <div class="form-group">
                        <label for="direccion"> Direccion </label>
                        <input type="text" id="direccion" name="direccion" [(ngModel)] ="nuevoCliente.direccion" required>
                    </div>

                    <div class="form-group">
                        <label for="telefono"> Telefono </label>
                        <input type="text" id="telefono" name="telefono" [(ngModel)] ="nuevoCliente.telefono" required>
                    </div>

                </fieldset>





            </form>

            <div class="actions">

                <button (click)="onSubmit()" class="btn btn-primary">
                    Registrar 
                </button>

            </div>

        </div> }

        @if (paso === 'cargando')
        { <div class="loading-screen">

                <h2> Precesando su Registro </h2>
                <div class="spinner"></div>
                <p>Aplicando validaciones de unicidad y formato. Espere la confirmacion del servidor</p>
        
        </div>}

        @if (paso === 'confirmacion' && 'clienteConfirmado')
        { <div class=" confirmation-card">
            
                <h2>✅ Datos Registrados Correctamente</h2>
        
                <p class="success-message">¡El sistema ha registrado su información! Por favor, confirme los siguientes detalles:</p>
        
                <div class="data-summary">
                `   <div class="data-row"><strong>ID de Cliente:</strong> <span>{{ clienteConfirmado?.id }}</span></div>
                    <div class="data-row"><strong>Tipo de Persona:</strong> <span>{{ clienteConfirmado?.tipoPersona }}</span></div>
                    <div class="data-row"><strong>Cédula:</strong> <span>{{ clienteConfirmado?.cedula }}</span></div>
                    <div class="data-row"><strong>Nombre:</strong> <span>{{ clienteConfirmado?.nombre }} {{ clienteConfirmado?.apellido }}</span></div>
                    <div class="data-row"><strong>Email:</strong> <span>{{ clienteConfirmado?.email }}</span></div>
                    <div class="data-row"><strong>Usuario:</strong> <span>{{ clienteConfirmado?.usuario }}</span></div>
                    <div class="data-row"><strong>Dirección:</strong> <span>{{ clienteConfirmado?.direccion }}</span></div>
                    <div class="data-row"><strong>Teléfono:</strong> <span>{{ clienteConfirmado?.telefono }}</span></div>
                    <div class="data-row"><strong>Contraseña:</strong> <span>{{ clienteConfirmado?.contrasena }}</span></div>
                    <div class="data-row"><strong>Confirmar Contraseña::</strong> <span>{{ clienteConfirmado?.confirmarContrasena }}</span></div>

                </div>

            <div class="actions">

                <button (click)="modificarDatos()" class="btn btn-secondary">
                    Modificar 
                </button>

                <button (click)="finalizarRegistro()" class="btn btn-primary">
                    Finalizar y Continuar 
                </button>
            </div>

        </div>}

</div>